@()
<div ng-controller="TaskCtrl">
    <ol class="breadcrumb">
        <li ng-repeat="item in breadcrumb" ng-class="{'active':$last}">
            <a ng-if="!$last" href="#">{{item.name}}</a>
            <span ng-if="$last">{{item.name}}</span>
        </li>
    </ol>

    <div id="content">
        <!-- header for each category (if exists) -->
        <!-- list up (hiearchical structure) of todos -->
        <script type="text/ng-template" id="hierarchy-item.html">
            <a class="hierarchy-move-handle" ui-tree-handle><span class="glyphicon glyphicon-align-justify invisible"></span></a>
            <span ng-class="['glyphicon', collapsed ? 'glyphicon-triangle-right' : 'glyphicon-triangle-bottom']" ng-if="task.children.length > 0"  ng-click="toggle()"></span>
            <span class="glyphicon glyphicon-stop" ng-if="task.children===undefined || task.children.length == 0"></span>
            <span class="hierarchy-item-row-body">
                <span class="hierarchy-item-row-text">{{task.name}}</span>
                <a><span class="glyphicon glyphicon-blackboard invisible"></span></a>
                <a><span class="glyphicon glyphicon-option-horizontal invisible pull-right"></span></a>
            </span>
        </script>

        <script type="text/ng-template" id="hierarchy.html">
            <p  class="hierarchy-item-row" ng-include="'hierarchy-item.html'"></p>
            <ul ui-tree-nodes ng-model="task.children" class="hierarchy" ng-show="!collapsed">
                <li ui-tree-node ng-repeat="task in task.children" class="hierarchy-item" ng-include="'hierarchy.html'"></li>
            </ul>
        </script>

        <div ui-tree="treeOptions" class="hierarchy">
            <ul ui-tree-nodes ng-model="tasks" class="hierarchy">
                <li ui-tree-node ng-repeat="task in tasks" class="hierarchy-item" ng-include="'hierarchy.html'"></li>
            </ul>
        </div>
        <div ng-if="tasks.length == 0">
                You have no tasks to display
        </div>

        <div>
                <!--<p class="text-primary"><a href="javascript:alert('TODO')">+ Add Task</a></p>-->
            <p><button type="button" class="btn btn-primary" data-toggle="modal" data-target="#todoform-modal" ng-click="openNewTaskForm()">
                + Add Task</button></p>
        </div>
    </div>
</div>
