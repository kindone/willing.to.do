@(todoTree: models.TodoTree)

@layouts.main("willing.to.do") {
    <header class="navbar navbar-default navbar-static-top bs-docs-nav" id="top" role="banner">
        <div class="container-fluid">
            <nav class="collapse navbar-collapse bs-navbar-collapse row">
                <div class="col-md-4 left-sidebar">
                    <ul class="nav navbar-nav">
                        <li>
                            <a href="@routes.Application.index()">W.T.D</a>
                        </li>
                        <li>
                            <a href="javascript:alert('TODO')">About</a>
                        </li>
                        <li>
                            <a href="javascript:alert('TODO')">Help</a>
                        </li>
                            <!--<li>
                <form role="search">
                    <input type="text" class="form-control" placeholder="Filter">
                </form>
            </li>-->
                    </ul>
                </div>
                <div class="col-md-8">
                    <ul class="nav navbar-nav navbar-right">
                        <li><a href="javascript:alert('TODO')">
                            Settings</a></li>
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
                                Profile <span class="caret"></span></a>
                            <ul class="dropdown-menu" role="menu">
                                <li><a href="@routes.AccountController.index()">
                                    Edit</a></li>
                                <li class="divider"></li>
                                <li><a href="@routes.Application.logout()">
                                    Logout</a></li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </nav>
        </div>
    </header>

    <div id="top-container" class="container">
        <div class="row">
            <div id="left-sidebar" class="col-xs-4">

                <div id="unified-views" class="list-group" ng-controller="ViewCtrl">
                    <ul class="nav nav-pills nav-stacked">
                        <li class="active"><a href=""><span class="glyphicon glyphicon-inbox"></span>
                            Inbox<span class="badge pull-right">{{inbox.count}}</span></a></li>
                        <li><a><span class="glyphicon glyphicon-time"></span>
                            Priority<span class="badge pull-right">{{priority.count}}</span></a></li>
                        <li><a><span class="glyphicon glyphicon-heart"></span>
                            Willing<span class="badge pull-right">{{willing.count}}</span></a></li>
                    </ul>
                </div>
                <div id="individual-views">
                    <div role="tabpanel">
                            <!-- Nav tabs -->
                        <ul class="nav nav-tabs" role="tablist">
                            <li role="presentation" class="active"><a href="#projects" aria-controls="projects" role="tab" data-toggle="tab">
                                Projects</a></li>
                            <li role="presentation"><a href="#labels" aria-controls="labels" role="tab" data-toggle="tab">
                                Labels</a></li>
                        </ul>

                            <!-- Tab panes -->
                        <div class="tab-content">
                            <div role="tabpanel" class="tab-pane active" id="projects">
                                @partials.projectview()
                            </div>
                            <div role="tabpanel" class="tab-pane" id="labels">
                                @partials.labelview()
                            </div>
                        </div>

                    </div>
                </div>
            </div>

            <div class="col-xs-8" id="right-div">
                <div id="pomodoro" class="alert alert-warning">
                    <a href="" class="" role="alert"
                    "><span class="glyphicon glyphicon-fire"></span>
                    Pomodoro Timer Active</a>
                        <!-- <div class="progress">
                  <div class="progress-bar" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%;">
                    60%
                  </div>
                </div>
                -->
                </div>
                @partials.todoview()

            </div>
        </div>
        @partials.todoform()
    </div>

    <script type="text/javascript">

    // our data to start with
    var tasks = [
        {name:"code", children:
            [{name: "Willing.to.do", children:[
                {name: "Design and UX issues"},
                {name: "Server-side implementation", children: [
                    {name:"authentication"}
                    ,{name:"authorization", children: [
                        {name:"API should block unauhorized"},
                        {name:"main page should provide unauhorized access"}
                    ]}
                ]},
                {name: "Client-side implementation", children: [
                    {name:"angularjs integration"}
                ]}
            ]}
        ]}
    ]


        var app = angular.module("App", [])

        app.controller("ViewCtrl", function($scope) {
            $scope.inbox = {count:5}
            $scope.priority = {count:1}
            $scope.willing = {count:1}
        })

        app.controller("ProjectListCtrl", function($scope) {
            $scope.projects = tasks
        })

        app.controller("LabelCtrl", function($scope) {
            $scope.labels = []
        })

        app.controller("TaskCtrl", function($scope) {
            $scope.ancestors = [tasks[0], tasks[0].children[0]]
            $scope.tasks = tasks[0].children[0].children
        })
    </script>
}